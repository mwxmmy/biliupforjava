<div class="container" id="roomTable">
    <el-button @click="addRoomDialog=true" type="primary">添加直播间</el-button>
    <el-tooltip class="item" content="导出用户后若程序继续运行，则用户登录状态会失效"
                effect="dark"
                placement="top"
                slot="reference">
        <el-button @click="exportConfigDialog=true" type="primary">导出配置文件</el-button>
    </el-tooltip>
    <el-upload
            class="item"
            action="/room/uploadConfig"
            accept=".json"
            :on-success="uploadSuccess"
            :show-file-list="false">
        <el-button type="primary">导入配置文件</el-button>
    </el-upload>
    <el-table
            v-loading="loading"
            :data="tableData"
            height="calc(100vh - 150px )"
            style="width: 100%">
        <el-table-column type="expand">
            <template slot-scope="props">
                <el-form class="demo-table-expand" inline label-position="left">
                    <el-form-item label="投稿分区id">
                        <span>{{ props.row.tid }}</span>
                    </el-form-item>
                    <el-form-item label="上传线路">
                        <span>{{ props.row.line }}</span>
                    </el-form-item>
                    <el-form-item label="投稿封面类型">
                        <span v-if="props.row.coverType==='default'">系统默认</span>
                        <span v-if="props.row.coverType==='live'">直播封面</span>
                        <span v-if="props.row.coverType==='diy'">自定义上传</span>
                    </el-form-item>
                    <el-form-item label="消息通知用户">
                        <span v-if="props.row.wxuid == null || props.row.wxuid == '' || props.row.wxuid == 'undefined'">不通知</span>
                        <span v-if="props.row.wxuid != null && props.row.wxuid != '' && props.row.wxuid != 'undefined'">{{props.row.wxuid}}}</span>
                    </el-form-item>
                    <el-form-item label="消息通知类型">
                        <span>{{ props.row.pushMsgTags }}</span>
                    </el-form-item>
                    <el-form-item label="忽略小分片">
                        <span>{{ props.row.fileSizeLimit }}MB(小于该大小的分片会直接删除)</span>
                    </el-form-item>
                    <el-form-item label="忽略小分片">
                        <span>{{ props.row.durationLimit }}秒(小于该时长的分片会直接删除)</span>
                    </el-form-item>
                    <el-form-item label="标题模板">
                        <span>{{ props.row.titleTemplate }}</span>
                    </el-form-item>
                    <el-form-item label="分p标题模板">
                        <span>{{ props.row.partTitleTemplate }}</span>
                    </el-form-item>
                    <el-form-item label="描述模板">
                        <span>{{ props.row.descTemplate }}</span>
                    </el-form-item>
                    <el-form-item label="空间动态模板">
                        <span>{{ props.row.dynamicTemplate }}</span>
                    </el-form-item>
                </el-form>
            </template>
        </el-table-column>
        <el-table-column
                label="直播间"
                prop="roomId"
                width="140">
        </el-table-column>
        <el-table-column
                label="主播"
                prop="uname"
                width="100">
        </el-table-column>
        <el-table-column
                label="标题"
                prop="title"
                width="180">
        </el-table-column>
        <el-table-column
                id="copyright"
                label="是否自制"
                prop="copyright"
                width="120">
            <template slot-scope="scope">
                <el-button circle class="el-icon-check" type="success" v-if="scope.row.copyright==1"></el-button>
                <el-button circle class="el-icon-close" type="danger" v-if="scope.row.copyright==2"></el-button>
            </template>
        </el-table-column>
        <el-table-column
                label="直播中"
                prop="streaming"
                width="100">
            <template slot-scope="scope">
                <el-button circle class="el-icon-check" type="success" v-if="scope.row.streaming"></el-button>
                <el-button circle class="el-icon-close" type="danger" v-if="!scope.row.streaming"></el-button>
            </template>
        </el-table-column>
        <el-table-column
                label="录制中"
                prop="recording"
                width="100">
            <template slot-scope="scope">
                <el-button circle class="el-icon-check" type="success" v-if="scope.row.recording"></el-button>
                <el-button circle class="el-icon-close" type="danger" v-if="!scope.row.recording"></el-button>
            </template>
        </el-table-column>
        <el-table-column
                label="是否上传"
                prop="recording"
                width="120">
            <template slot-scope="scope">
                <el-button circle class="el-icon-check" type="success" v-if="scope.row.upload"></el-button>
                <el-button circle class="el-icon-close" type="danger" v-if="!scope.row.upload"></el-button>
            </template>
        </el-table-column>
        <el-table-column
                label="是否发送弹幕"
                prop="sendDm"
                width="120">
            <template slot-scope="scope">
                <el-button circle class="el-icon-check" type="success" v-if="scope.row.sendDm"></el-button>
                <el-button circle class="el-icon-close" type="danger" v-if="!scope.row.sendDm"></el-button>
            </template>
        </el-table-column>
        <el-table-column
                label="文件后处理"
                prop="deleteFile"
                width="120">
            <template slot-scope="scope">
                <span v-if="scope.row.deleteType == 0">不删除</span>
                <span v-if="scope.row.deleteType == 1">上传完成后删除</span>
                <span v-if="scope.row.deleteType == 2">审核通过后删除</span>
                <span v-if="scope.row.deleteType == 3">{{scope.row.deleteDay}}天后删除</span>
                <span v-if="scope.row.deleteType == 4">上传完成后移动到{{scope.row.moveDir}}</span>
                <span v-if="scope.row.deleteType == 5">审核通过后移动到{{scope.row.moveDir}}</span>
                <span v-if="scope.row.deleteType == 6">录制结束后移动到{{scope.row.moveDir}}</span>
                <span v-if="scope.row.deleteType == 7">录制结束后复制到{{scope.row.moveDir}}</span>
                <span v-if="scope.row.deleteType == 8">{{scope.row.deleteDay}}天后移动到{{scope.row.moveDir}}</span>
                <span v-if="scope.row.deleteType == 9">投稿成功后删除</span>
                <span v-if="scope.row.deleteType == 10">投稿成功后移动到{{scope.row.moveDir}}</span>
                <span v-if="scope.row.deleteType == 11">审核通过后复制到{{scope.row.moveDir}}</span>
            </template>
        </el-table-column>
        <el-table-column
                label="投稿用户"
                prop="uploadUserId"
                width="120">
            <template slot-scope="scope">
                <div v-for="item in users">
                    <span type="primary" v-if="scope.row.uploadUserId == item.id">{{item.uname}}</span>
                </div>
            </template>
        </el-table-column>
        <el-table-column label="操作"
                         width="250">
            <template slot-scope="scope">
                <el-button
                        @click="handleEdit(scope.$index, scope.row)" size="mini"
                        type="primary">编辑
                </el-button>
                <el-button
                        @click="handleEeditLiveMsg(scope.$index, scope.row)" size="mini"
                        type="primary">弹幕规则
                </el-button>
                <el-popconfirm
                        @confirm="deleteRoom(scope.row.id)"
                        title="确定删除吗？">
                    <el-button slot="reference" size="mini"
                               type="danger">删除
                    </el-button>
                </el-popconfirm>
            </template>
        </el-table-column>
    </el-table>
    <el-dialog :visible.sync="dialogFormVisible" title="房间信息">
        <el-form :model="room">
            <el-form-item :label-width="formLabelWidth" label="投稿分区id">
                <el-row>
                    <el-col :span="7">
                        <el-input autocomplete="off" type="number" v-model="room.tid"></el-input>
                    </el-col>
                </el-row>
                <el-cascader
                        :options="typeList"
                        :props="{label:'name',value:'id',emitPath:false}"
                        @change="typeChange(true)"
                        clearable
                        filterable
                        placeholder="试试搜索：电子竞技"
                        ref="typeCascade"
                        v-model="room.tid">
                    <template slot-scope="{ node, data }">
                        <span>{{ data.name }}</span>
                        <span> ({{ data.desc }}) </span>
                    </template>
                </el-cascader>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="文件忽略大小(MB)">
                <el-col :span="7">
                    <el-input autocomplete="off" type="number" v-model="room.fileSizeLimit"></el-input>
                </el-col>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="文件忽略时长(秒)">
                <el-col :span="7">
                    <el-input autocomplete="off" type="number" v-model="room.durationLimit"></el-input>
                </el-col>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="是否自制">
                <el-select :disabled="room.copyrightDisabled" placeholder="请选择" v-model="room.copyright">
                    <el-option label="是" :value="1"></el-option>
                    <el-option label="否" :value="2"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="上传线路">
                <el-select placeholder="请选择" v-model="room.line">
                    <el-option :label="item" :value="item" v-for="item in lines"></el-option>
                </el-select>
                <el-link
                        :underline="false"
                        href="http://member.bilibili.com/preupload?r=ping" target="_blank" type="primary">点击测速
                </el-link>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="标题模板">
                <el-input autocomplete="off" maxlength="100" v-model="room.titleTemplate"></el-input>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="分p标题模板">
                <el-input autocomplete="off" maxlength="100" v-model="room.partTitleTemplate"></el-input>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="描述模板">
                <el-input :rows="2" autocomplete="off"
                          autosize
                          maxlength="1800"
                          type="textarea" v-model="room.descTemplate"></el-input>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="空间动态模板">
                <el-input :rows="2" autocomplete="off"
                          autosize
                          maxlength="1800"
                          type="textarea" v-model="room.dynamicTemplate"></el-input>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="上传tag">
                <el-input autocomplete="off" v-model="room.tags"></el-input>
            </el-form-item>

            <el-form-item :label-width="formLabelWidth" label="微信消息uid">
                <el-button
                        @click="wxDialogVisible = true" size="mini"
                        type="primary">微信扫码获取uid
                </el-button>
                <el-input autocomplete="off" v-model="room.wxuid"></el-input>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="微信消息类型">
                <el-input autocomplete="off" v-model="room.pushMsgTags"></el-input>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="文件后处理">
                <el-select placeholder="请选择" v-model="room.deleteType">
                    <el-option label="不删除" :value="0"></el-option>
                    <el-option label="上传完成后删除" :value="1"></el-option>
                    <el-option :value="9" label="投稿成功后删除"></el-option>
                    <el-option label="审核通过后删除" :value="2"></el-option>
                    <el-option label="几天后删除" :value="3"></el-option>
                    <el-option label="录制结束几天后移动" :value="8"></el-option>
                    <el-option label="上传完成后移动" :value="4"></el-option>
                    <el-option label="审核通过后移动" :value="5"></el-option>
                    <el-option :value="6" label="录制结束后移动(无法上传)"></el-option>
                    <el-option :value="7" label="录制结束后复制"></el-option>
                    <el-option :value="10" label="投稿成功后移动"></el-option>
                    <el-option :value="11" label="审核通过成功后复制"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item v-if="room.deleteType==3||room.deleteType==8 " :label-width="formLabelWidth" label="几天后">
                <el-col :span="7">
                    <el-input autocomplete="off" type="number" min="1" max="365"
                              v-model="room.deleteDay"></el-input>
                </el-col>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="移动目录"
                          v-if="room.deleteType==4||room.deleteType==5||room.deleteType==6||room.deleteType==7||room.deleteType==8||room.deleteType==10||room.deleteType==11 ">
                <el-col :span="12">
                    <el-input autocomplete="off" placeholder="如 /complete 容器环境需要映射该目录到主机内"
                              v-model="room.moveDir"></el-input>
                </el-col>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="是否上传">
                <el-select placeholder="请选择" v-model="room.upload">
                    <el-option label="是" :value="true"></el-option>
                    <el-option label="否" :value="false"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="是否发送弹幕">
                <el-select placeholder="请选择" v-model="room.sendDm">
                    <el-option :value="true" label="是"></el-option>
                    <el-option :value="false" label="否"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="上传用户">
                <el-select v-model="room.uploadUserId">
                    <el-option
                            :key="item.id"
                            :label="item.uname"
                            :value="item.id"
                            v-for="item in users">
                    </el-option>
                </el-select>
            </el-form-item>
            <el-form-item :label-width="formLabelWidth" label="投稿封面类型">
                <el-select @change="coverTypeChange" v-model="room.coverType">
                    <el-option label="系统默认" value="default"></el-option>
                    <el-option label="直播封面(需录播姬开启保存封面功能)" value="live"></el-option>
                    <el-option label="自定义" value="diy"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item v-if="room.coverType == 'diy'" :label-width="formLabelWidth" label="投稿封面上传">
                <el-upload
                        class="avatar-uploader"
                        action="/room/uploadCover"
                        accept=".jpg, .jpeg, .png"
                        :data="room"
                        :show-file-list="false"
                        :on-success="handleCoverSuccess"
                        :before-upload="beforeCoverUpload">
                    <img id="coverImg" v-if="room.coverUrl" :src="room.coverUrl" class="avatar">
                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                </el-upload>
            </el-form-item>
        </el-form>
        <div class="dialog-footer" slot="footer">
            <el-button @click="dialogFormVisible = false">取 消</el-button>
            <el-button @click="updateRoom()" type="primary">确 定</el-button>
        </div>
    </el-dialog>
    <el-dialog :visible.sync="addRoomDialog" title="添加房间">
        <el-form :model="addRoom">
            <el-form-item :label-width="formLabelWidth" label="房间号(长号)">
                <el-input autocomplete="off" type="number" v-model="addRoom.roomId"></el-input>
            </el-form-item>
        </el-form>
        <div class="dialog-footer" slot="footer">
            <el-button @click="addRoomDialog = false">取 消</el-button>
            <el-button @click="addRoomF()" type="primary">确 定</el-button>
        </div>
    </el-dialog>
    <el-dialog :visible.sync="exportConfigDialog" title="导出配置">
        <el-form :model="exportConfig">
            <el-form-item :label-width="formLabelWidth" label="导出选项">
                <el-checkbox v-model="exportConfig.exportRoom">导出房间信息</el-checkbox>
                <el-checkbox v-model="exportConfig.exportUser">导出用户信息</el-checkbox>
                <el-checkbox v-model="exportConfig.exportHistory">导出录制历史信息</el-checkbox>
            </el-form-item>
        </el-form>
        <div class="dialog-footer" slot="footer">
            <el-button @click="exportConfigDialog = false">取 消</el-button>
            <el-button @click="exportConfigF()" type="primary">确 定</el-button>
        </div>
    </el-dialog>
    <el-dialog :visible.sync="editLiveMsgSettingVisible" title="弹幕过滤">
        <el-form :model="room">
            <el-form-item label="弹幕重复过滤" label-width="300">
                <el-select placeholder="请选择" v-model="room.dmDistinct">
                    <el-option :value="false" label="不过滤"></el-option>
                    <el-option :value="true" label="过滤"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="粉丝勋章屏蔽(需录制原始数据生效)" label-width="300">
                <el-select placeholder="请选择" v-model="room.dmFanMedal">
                    <el-option :value="0" label="不过滤"></el-option>
                    <el-option :value="1" label="佩戴粉丝勋章"></el-option>
                    <el-option :value="2" label="佩戴主播粉丝勋章"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="用户ul等级(佩戴勋章的弹幕无效)" label-width="300">
                <el-col :span="8">
                    <el-input autocomplete="off" type="number" v-model="room.dmUlLevel"></el-input>
                </el-col>
            </el-form-item>
            <el-form-item label="关键词屏蔽(一行一个)" label-width="300">
                <el-col :span="8">
                    <el-input :rows="2" autocomplete="off"
                              autosize
                              type="textarea" v-model="room.dmKeywordBlacklist"></el-input>
                </el-col>
            </el-form-item>
        </el-form>
        <div class="dialog-footer" slot="footer">
            <el-button @click="editLiveMsgSettingVisible = false">取 消</el-button>
            <el-button @click="editLiveMsgSetting()" type="primary">确 定</el-button>
        </div>
    </el-dialog>

    <el-dialog :visible.sync="wxDialogVisible" title="微信关注扫码获取uid">
        <el-image
                src="https://wxpusher.zjiecode.com/api/qrcode/gg2nIKVGMMp1paStVFVtFWrdoQFWHCymwGVXXTStk5c4k8Dp4DSQFNRJAKwtLZ7G.jpg"
                fit="fill"
                justify="center"
                style="width: 250px; height: 250px"></el-image>
        <div class="dialog-footer" slot="footer">
            <el-button @click="wxDialogVisible = false" type="primary">关 闭</el-button>
        </div>
    </el-dialog>
</div>
<script>
    new Vue({
        el: '#roomTable',
        data: {
            loading: false,
            typeList: [
                {
                    "id": 160,
                    "parent": 0,
                    "parent_name": "",
                    "name": "生活",
                    "description": "生活",
                    "desc": "生活",
                    "copy_right": 0,
                    "show": true,
                    "rank": 95,
                    "children": [
                        {
                            "id": 138,
                            "parent": 160,
                            "name": "搞笑",
                            "desc": "搞笑挑战、剪辑、表演、配音以及各类日常沙雕视频",
                            "intro_copy": "转载需写明请注明转载作品详细信息原作者、原标题及出处（需为该视频最原始出处，如所标注明显为非原始出处的话会被打回）",
                            "copy_right": 0,
                            "show": true,
                            "rank": 30
                        },
                        {
                            "id": 254,
                            "parent": 160,
                            "name": "亲子",
                            "desc": "与萌娃、母婴、育儿相关的视频，包括但不限于萌娃日常、萌娃才艺、亲子互动、亲子教育、母婴经验分享、少儿用品分享等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 29
                        },
                        {
                            "id": 250,
                            "parent": 160,
                            "name": "出行",
                            "desc": "旅行、户外、本地探店相关的视频，如旅行vlog、治愈系风景、城市景点攻略、自驾游、户外露营、徒步、骑行、钓鱼、乡村游、本地探店体验，演出看展等 ",
                            "copy_right": 0,
                            "show": true,
                            "rank": 28
                        },
                        {
                            "id": 251,
                            "parent": 160,
                            "name": "三农",
                            "desc": "与农业、农村、农民相关的视频，包括但不限于农村生活、户外打野、种植技术、养殖技术、三农资讯",
                            "copy_right": 0,
                            "show": true,
                            "rank": 26
                        },
                        {
                            "id": 239,
                            "parent": 160,
                            "name": "家居房产",
                            "desc": "与买房、装修、居家生活相关的视频，如买房租房、装修改造、智能家居、园艺绿植、居家好物等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 25
                        },
                        {
                            "id": 161,
                            "parent": 160,
                            "name": "手工",
                            "desc": "与手工艺、DIY、发明创造相关的视频，例如手工记录、四坑手作、毛毡粘土、手账文具、写字书法、模型、玩具、解压、传统手艺、非遗等",
                            "intro_copy": "转载需写明请注明转载作品详细信息原作者、原标题及出处（需为该视频最原始出处，如所标注明显为非原始出处的话会被打回）",
                            "notice": "【手工类型】+所制作的手工物品名字，例：【手账】、【黏土】",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 162,
                            "parent": 160,
                            "name": "绘画",
                            "desc": "与绘画、艺术、设计相关的视频，例如绘画记录、数字绘画、手绘、潮流艺术、创意作画、绘画教程、美术分享、动漫、插画等",
                            "intro_copy": "转载需写明请注明转载作品详细信息原作者、原标题及出处（需为该视频最原始出处，如所标注明显为非原始出处的话会被打回）",
                            "notice": "【绘画种类】+作品名/教程，例：【板绘】侧面眼睛教程",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 21,
                            "parent": 160,
                            "name": "日常",
                            "desc": "一般日常向的生活类视频",
                            "intro_copy": "转载需写明请注明转载作品详细信息原作者、原标题及出处（需为该视频最原始出处，如所标注明显为非原始出处的话会被打回）",
                            "copy_right": 0,
                            "show": true,
                            "rank": 4
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 4,
                    "parent": 0,
                    "parent_name": "",
                    "name": "游戏",
                    "description": "游戏",
                    "desc": "游戏",
                    "copy_right": 0,
                    "show": true,
                    "rank": 90,
                    "children": [
                        {
                            "id": 17,
                            "parent": 4,
                            "name": "单机游戏",
                            "desc": "以单机或其联机模式为主要内容的相关视频",
                            "intro_copy": "建议在简介和TAG中添加正确的游戏名。\n搬运转载内容必须添加原作者、原链接地址信息。录制他人直播内容必须添加原主播信息、直播时间。\n未添加正确转载、录播信息的稿件可能被打回。",
                            "notice": "【UP主/节目名】+《游戏名》+主要标题+期号",
                            "copy_right": 0,
                            "show": true,
                            "rank": 35
                        },
                        {
                            "id": 65,
                            "parent": 4,
                            "name": "网络游戏",
                            "desc": "多人在线游戏为主要内容的相关视频",
                            "intro_copy": "建议在简介和TAG中添加正确的游戏名。\n搬运转载内容请添加原作者、原链接地址信息。录制他人直播内容请添加原主播信息、直播时间。\n未添加正确转载、录播信息的稿件可能被打回。",
                            "notice": "【UP主/节目名】+《游戏名》+主要标题+期号",
                            "copy_right": 0,
                            "show": true,
                            "rank": 30
                        },
                        {
                            "id": 172,
                            "parent": 4,
                            "name": "手机游戏",
                            "desc": "手机及平板设备平台上的游戏相关视频",
                            "intro_copy": "建议在简介和TAG中添加正确的游戏名。\n搬运转载内容请添加原作者、原链接地址信息。录制他人直播内容请添加原主播信息、直播时间。\n未添加正确转载、录播信息的稿件可能被打回。",
                            "notice": "【UP主/节目名】+《游戏名》+主要标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 25
                        },
                        {
                            "id": 171,
                            "parent": 4,
                            "name": "电子竞技",
                            "desc": "电子竞技游戏项目为主要内容的相关视频",
                            "intro_copy": "建议在简介和TAG中添加正确的游戏名、赛事名称和场次。\n搬运转载内容请添加原作者、原链接地址信息。录制他人直播内容请添加原主播信息、直播时间。\n未添加正确转载、录播信息的稿件可能被打回。",
                            "notice": "【UP主/节目名】+《游戏名》+主要标题+期号",
                            "copy_right": 0,
                            "show": true,
                            "rank": 20,
                            "max_video_count": 100
                        },
                        {
                            "id": 173,
                            "parent": 4,
                            "name": "桌游棋牌",
                            "desc": "桌游、棋牌、卡牌、聚会游戏等相关视频",
                            "intro_copy": "建议在简介和TAG中添加正确的游戏名。\n搬运转载内容请添加原作者、原链接地址信息。录制他人直播内容请添加原主播信息、直播时间。\n未添加正确转载、录播信息的稿件可能被打回。",
                            "notice": "【UP主/游戏名/节目名】+主要标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 15
                        },
                        {
                            "id": 136,
                            "parent": 4,
                            "name": "音游",
                            "desc": "通过配合音乐与节奏而进行的音乐类游戏视频",
                            "intro_copy": "建议在简介和TAG中添加正确的游戏名、曲名、难度及操作平台。\n搬运转载内容请添加原作者、原链接地址信息。录制他人直播内容请添加原主播信息、直播时间。\n未添加正确转载、录播信息的稿件可能被打回。",
                            "notice": "【UP主/游戏名】+曲名+难度+程度",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 121,
                            "parent": 4,
                            "name": "GMV",
                            "desc": "使用游戏内容或CG为素材制作的MV类型的视频",
                            "intro_copy": "搬运转载内容请添加原作者、原链接地址信息。未添加正确转载信息的稿件可能被打回。",
                            "notice": "【游戏名/风格】主要标题 ",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 19,
                            "parent": 4,
                            "name": "Mugen",
                            "desc": "使用Mugen引擎制作或与Mugen相关的游戏视频",
                            "intro_copy": "搬运转载内容请添加原作者、原链接地址信息。 未添加正确转载信息的稿件可能被打回。",
                            "notice": "【Mugen】+杯名+级别+角色名+主要标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 1
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 5,
                    "parent": 0,
                    "parent_name": "",
                    "name": "娱乐",
                    "description": "娱乐",
                    "desc": "娱乐",
                    "copy_right": 0,
                    "show": true,
                    "rank": 85,
                    "children": [
                        {
                            "id": 71,
                            "parent": 5,
                            "name": "综艺",
                            "desc": "所有综艺相关，全部一手掌握！",
                            "intro_copy": "若为转载综艺的正片，需有该综艺节目的原标题、期数（时间）以及翻译字幕组\n例：【乃木坂不够热】 160412 NOGIBINGO!6 EP01+NOGIROOM4 EP01",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 241,
                            "parent": 5,
                            "name": "娱乐杂谈",
                            "desc": "娱乐人物解读、娱乐热点点评、娱乐行业分析",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟",
                            "copy_right": 0,
                            "show": true,
                            "rank": 9
                        },
                        {
                            "id": 242,
                            "parent": 5,
                            "name": "粉丝创作",
                            "desc": "粉丝向创作视频",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 8
                        },
                        {
                            "id": 137,
                            "parent": 5,
                            "name": "明星综合",
                            "desc": "娱乐圈动态、明星资讯相关",
                            "intro_copy": "简介需要写明原出处或原作者，列出相关明星。",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 7,
                            "max_video_count": 100
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 36,
                    "parent": 0,
                    "parent_name": "",
                    "name": "知识",
                    "description": "知识",
                    "desc": "知识",
                    "copy_right": 0,
                    "show": true,
                    "rank": 80,
                    "children": [
                        {
                            "id": 201,
                            "parent": 36,
                            "name": "科学科普",
                            "desc": "以自然科学或基于自然科学思维展开的知识视频",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 100
                        },
                        {
                            "id": 124,
                            "parent": 36,
                            "name": "社科·法律·心理",
                            "desc": "法律/心理/社会学/观点输出类内容等",
                            "intro_copy": "转载稿件需标明出处，请注明原作者、原作者频道名或原作者投稿地址。\n可对相关内容进行补充说明。\n请勿加入涉政或具较大争议性的文字简介，否则将做打回处理。\n如是系列，也可附带上期视频地址。",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 95
                        },
                        {
                            "id": 228,
                            "parent": 36,
                            "name": "人文历史",
                            "desc": "人物/文学/历史/文化/奇闻/艺术等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 91
                        },
                        {
                            "id": 207,
                            "parent": 36,
                            "name": "财经商业",
                            "desc": "财经/商业/经济金融/互联网等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 90
                        },
                        {
                            "id": 208,
                            "parent": 36,
                            "name": "校园学习",
                            "desc": "学习方法及经验、课程教学、校园干货分享等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 85
                        },
                        {
                            "id": 209,
                            "parent": 36,
                            "name": "职业职场",
                            "desc": "职场技能、职业分享、行业分析、求职规划等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 80
                        },
                        {
                            "id": 229,
                            "parent": 36,
                            "name": "设计·创意",
                            "desc": "以设计美学或基于设计思维展开的知识视频",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 76
                        },
                        {
                            "id": 122,
                            "parent": 36,
                            "name": "野生技能协会",
                            "desc": "技能展示或技能教学分享类视频",
                            "intro_copy": "转载稿件需标明出处，请注明原作者、原作者频道名或原作者投稿地址。\n可对相关内容进行补充说明。\n请勿加入涉政或具较大争议性的文字简介，否则将做打回处理。\n如是系列，也可附带上期视频地址。",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 75,
                            "max_video_count": 100
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 181,
                    "parent": 0,
                    "parent_name": "",
                    "name": "影视",
                    "description": "影视",
                    "desc": "影视",
                    "copy_right": 0,
                    "show": true,
                    "rank": 80,
                    "children": [
                        {
                            "id": 85,
                            "parent": 181,
                            "name": "小剧场",
                            "desc": "单线或连续剧情，且有演绎成分的小剧场（短剧）内容；其他内容类型的短片",
                            "intro_copy": "搬运转载内容必须添加原短片相关信息及原链接地址信息等。",
                            "copy_right": 0,
                            "show": true,
                            "rank": 15
                        },
                        {
                            "id": 182,
                            "parent": 181,
                            "name": "影视杂谈",
                            "desc": "影视评论、解说、吐槽、科普、配音等",
                            "intro_copy": "建议在简介和TAG中添加正确的影视剧名等信息。\n搬运转载内容必须添加原作者、原链接地址信息。",
                            "notice": "【UP主/节目名】+《影视剧名》（选填）+主要标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 183,
                            "parent": 181,
                            "name": "影视剪辑",
                            "desc": "对影视素材进行剪辑再创作的视频",
                            "intro_copy": "建议在简介中添加正确的影视剧名等信息。搬运转载内容必须添加原作者、原链接地址信息。",
                            "notice": "【剪辑类型】+主要标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 184,
                            "parent": 181,
                            "name": "预告·资讯",
                            "desc": "影视类相关资讯，预告，花絮等视频",
                            "intro_copy": "建议在简介中添加正确的影视剧名等信息。搬运转载内容必须添加原链接地址信息。",
                            "notice": "【节目类型/节目名】+《影视剧名》+主要标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 0
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 3,
                    "parent": 0,
                    "parent_name": "",
                    "name": "音乐",
                    "description": "音乐",
                    "desc": "音乐",
                    "copy_right": 0,
                    "show": true,
                    "rank": 75,
                    "children": [
                        {
                            "id": 31,
                            "parent": 3,
                            "name": "翻唱",
                            "desc": "对曲目的人声再演绎视频。",
                            "intro_copy": "请认真填写您所上传视频的相关信息，如曲名，作者，来源出处地址等重要信息，以及其他有利于检索的关键信息，便于您的稿件能合理高效地检索及展示",
                            "notice": "建议使用【翻唱者】翻唱曲目 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 80
                        },
                        {
                            "id": 59,
                            "parent": 3,
                            "name": "演奏",
                            "desc": "乐器和非传统乐器器材的演奏作品。",
                            "intro_copy": "请认真填写您所上传视频的相关信息，如曲名，作者，来源出处地址等重要信息，以及其他有利于检索的关键信息，便于您的稿件能合理高效地检索及展示",
                            "notice": "建议使用【乐器/器材名】曲名 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 70
                        },
                        {
                            "id": 130,
                            "parent": 3,
                            "name": "音乐综合",
                            "desc": "该分区收录所有无法被收纳到其他音乐二级分区的音乐类视频。包括但不限于个人选集以及任何形式的曲包。",
                            "intro_copy": "请认真填写您所上传视频的相关信息，如曲名，作者，来源出处地址等重要信息，以及其他有利于检索的关键信息，便于您的稿件能合理高效地检索及展示",
                            "copy_right": 0,
                            "show": true,
                            "rank": 69
                        },
                        {
                            "id": 29,
                            "parent": 3,
                            "name": "音乐现场",
                            "desc": "该分区收录户外或专业演出场所公开进行音乐表演的实况视频，包括但不限于官方/个人拍摄的综艺节目、音乐剧、音乐节、演唱会等音乐演出内容。",
                            "intro_copy": "请认真填写您所上传视频的相关信息，如曲名，作者，来源出处地址等重要信息，以及其他有利于检索的关键信息，便于您的稿件能合理高效地检索及展示",
                            "notice": "建议使用 【音乐人】曲目名【现场标题】 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 65,
                            "max_video_count": 100
                        },
                        {
                            "id": 193,
                            "parent": 3,
                            "name": "MV",
                            "desc": "该分区收录为音乐作品配合拍摄或制作的音乐录影带（Music Video），包含但不限于官方MV或MV预告，以及自制拍摄、剪辑、翻拍的MV。",
                            "intro_copy": "",
                            "notice": "建议使用 【音乐人】曲目名 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 60
                        },
                        {
                            "id": 244,
                            "parent": 3,
                            "name": "音乐教学",
                            "desc": "该分区收录以音乐教学为目的的内容，包括但不限于声乐教学、乐器教学、编曲制作教学、乐器设备测评等。",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 55
                        },
                        {
                            "id": 28,
                            "parent": 3,
                            "name": "原创音乐",
                            "desc": "以任何题材创作的、以音乐主体为主要原创考量标准的原创歌曲及纯音乐，包括对音乐歌曲中曲的改编、重编曲及remix。",
                            "intro_copy": "原创音乐区原则上不接受转载视频，请获取作品原作者的有效授权并投稿至其他音乐相关分区。多次错误投稿的账号将有可能会被处理，请谨慎投稿。",
                            "notice": "建议使用【歌手名】曲目【风格】 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 50
                        },
                        {
                            "id": 30,
                            "parent": 3,
                            "name": "VOCALOID·UTAU",
                            "desc": "以VOCALOID等歌声合成引擎为基础，运用各类音源进行的创作。",
                            "intro_copy": "请认真填写您所上传视频的相关信息，如曲名，作者，来源出处地址等重要信息，以及其他有利于检索的关键信息，便于您的稿件能合理高效地检索及展示",
                            "notice": "建议使用【歌手名】曲目【作者】 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 40
                        },
                        {
                            "id": 243,
                            "parent": 3,
                            "name": "乐评盘点",
                            "desc": "该分区收录音乐资讯、音乐点评盘点、音乐故事等，包括但不限于音乐类新闻、盘点、点评、reaction、榜单、采访、幕后故事、唱片开箱等。",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 30
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 1,
                    "parent": 0,
                    "parent_name": "",
                    "name": "动画",
                    "description": "动画",
                    "desc": "动画",
                    "copy_right": 0,
                    "show": true,
                    "rank": 65,
                    "children": [
                        {
                            "id": 24,
                            "parent": 1,
                            "name": "MAD·AMV",
                            "desc": "具有一定创作度的动/静画二次创作视频",
                            "intro_copy": "转载稿件要注明出处哦！出处包括：\n源地址 如amvnews, YouTube, Nico的作品发布链接\n原作者 举例：Pluvia\n原标题 举例：蒼天の白鯨と始まりのゼロ\n填写更全面的相关信息,让更多的人能找到你的视频吧!\nBGM 建议格式：音乐人-音乐名\n使用素材 举例：从零开始的魔法书 小魔女学园",
                            "notice": "建议使用【作品题材】+其他部分 的形式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 20
                        },
                        {
                            "id": 25,
                            "parent": 1,
                            "name": "MMD·3D",
                            "desc": "使用MMD和其他3D软件制作的视频",
                            "intro_copy": "转载稿件要注明出处哦!出处包括:\n源地址 如YouTube, Nico的作品发布链接\n原作者 举例：minusT\n原标题 举例：【3D東方】 Subterranean Stars",
                            "notice": "建议使用【作品题材】+其他部分 的形式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 15
                        },
                        {
                            "id": 47,
                            "parent": 1,
                            "name": "短片·手书·配音",
                            "desc": "自制动画短片/手书及ACGN相关配音",
                            "intro_copy": "转载稿件要注明出处哦!出处包括:\n源地址 如vimeo, YouTube, Nico的作品发布链接\n原作者ID\n来自多个短片的合集也要注明出处哦!",
                            "notice": "标题建议提炼内容亮点",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 210,
                            "parent": 1,
                            "name": "手办·模玩",
                            "desc": "手办模玩的测评、改造或其他衍生内容",
                            "intro_copy": "",
                            "notice": "【类型（拆箱、测评、改造等）】+ 标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 4
                        },
                        {
                            "id": 86,
                            "parent": 1,
                            "name": "特摄",
                            "desc": "特摄相关衍生视频",
                            "intro_copy": "建议在简介和TAG中添加正确的特摄片名等信息。搬运转载内容必须添加原作者、原链接地址信息。 ",
                            "notice": "【特摄片名】+主要标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 3
                        },
                        {
                            "id": 253,
                            "parent": 1,
                            "name": "动漫杂谈",
                            "desc": "ACGN文化圈杂谈内容",
                            "intro_copy": "转载稿件要注明出处哦!出处包括:\n源地址 如vimeo, YouTube, Nico的作品发布链接\n原作者ID\n来自多个短片的合集也要注明出处哦!",
                            "notice": "标题建议提炼内容亮点",
                            "copy_right": 0,
                            "show": true,
                            "rank": 2
                        },
                        {
                            "id": 27,
                            "parent": 1,
                            "name": "综合",
                            "desc": "以动画及相关内容为素材的创作",
                            "intro_copy": "转载稿件要注明出处哦！出处包括：\n• 源地址 如YouTube，Nico的作品发布链接\n• 原作者 举例：毒舌老外gigguk\n• 原作者创作不易,注明转载来源才是好孩子！",
                            "notice": "标题建议提炼内容亮点",
                            "copy_right": 0,
                            "show": true,
                            "rank": 1
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 155,
                    "parent": 0,
                    "parent_name": "",
                    "name": "时尚",
                    "description": "时尚",
                    "desc": "时尚",
                    "copy_right": 0,
                    "show": true,
                    "rank": 60,
                    "children": [
                        {
                            "id": 157,
                            "parent": 155,
                            "name": "美妆护肤",
                            "desc": "彩妆护肤、发型美甲、仿妆、美容美体、口腔、拍照技巧、颜值分析等变美相关内容分享或产品测评",
                            "intro_copy": "转载自【YouTube/优酷/腾讯视频等视频网站】的【美妆/服饰/健身】内容。注明原PO的ID及联系方式，如脸书、微博等。若获得原PO授权请特别注明。产品详细列表，如canmake花瓣腮红3#。请不要出现购买链接哟~",
                            "notice": "清晰明了表明内容亮点的标题会更受众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 20
                        },
                        {
                            "id": 252,
                            "parent": 155,
                            "name": "仿妆cos",
                            "desc": "对明星、影视剧、文学作品、动漫、番剧、绘画作品、游戏等人物角色妆容或整体妆造进行模仿、还原、展示、演绎的内容",
                            "copy_right": 0,
                            "show": true,
                            "rank": 18
                        },
                        {
                            "id": 158,
                            "parent": 155,
                            "name": "穿搭",
                            "desc": "穿搭风格、穿搭技巧的展示分享，涵盖衣服、鞋靴、箱包配件、配饰（帽子、钟表、珠宝首饰）等",
                            "intro_copy": "转载自【YouTube/优酷/腾讯视频等视频网站】的【美妆/服饰/健身】内容。注明原PO的ID及联系方式，如脸书、微博等。若获得原PO授权请特别注明。产品详细列表，如canmake花瓣腮红3#。请不要出现购买链接哟~",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 15
                        },
                        {
                            "id": 159,
                            "parent": 155,
                            "name": "时尚潮流",
                            "desc": "时尚街拍、时装周、时尚大片，时尚品牌、潮流等行业相关记录及知识科普",
                            "intro_copy": "转载自【YouTube/优酷/腾讯视频等视频网站】的内容。品牌（系列）、时间、地点、模特名字，最好来一发解析❤请不要出现购买链接及和视频内容无关二维码",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 211,
                    "parent": 0,
                    "parent_name": "",
                    "name": "美食",
                    "description": "美食",
                    "desc": "美食",
                    "copy_right": 0,
                    "show": true,
                    "rank": 55,
                    "children": [
                        {
                            "id": 76,
                            "parent": 211,
                            "name": "美食制作",
                            "desc": "包括但不限于料理制作教程，各种菜系、甜点、速食、饮料、小吃制作等",
                            "copy_right": 0,
                            "show": true,
                            "rank": 100
                        },
                        {
                            "id": 212,
                            "parent": 211,
                            "name": "美食侦探",
                            "desc": "包括但不限于探店、街边美食、饮食文化，发现特色地域美食、路边摊与热门网红食物等",
                            "copy_right": 0,
                            "show": true,
                            "rank": 95
                        },
                        {
                            "id": 213,
                            "parent": 211,
                            "name": "美食测评",
                            "desc": "包括但不限于边吃边聊、测评推荐或吐槽各种美食等",
                            "copy_right": 0,
                            "show": true,
                            "rank": 90
                        },
                        {
                            "id": 214,
                            "parent": 211,
                            "name": "田园美食",
                            "desc": "包括但不限于乡野美食、三农采摘、钓鱼赶海等",
                            "copy_right": 0,
                            "show": true,
                            "rank": 85
                        },
                        {
                            "id": 215,
                            "parent": 211,
                            "name": "美食记录",
                            "desc": "记录一日三餐，美食vlog、料理、便当、饮品合集、美食小剧场等",
                            "copy_right": 0,
                            "show": true,
                            "rank": 80
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 223,
                    "parent": 0,
                    "parent_name": "",
                    "name": "汽车",
                    "description": "汽车",
                    "desc": "汽车",
                    "copy_right": 0,
                    "show": true,
                    "rank": 52,
                    "children": [
                        {
                            "id": 245,
                            "parent": 223,
                            "name": "赛车",
                            "desc": "一切以汽车运动为代表的车手、汽车赛事、赛道、赛车模拟器、赛车、卡丁车及赛车衍生品相关的视频",
                            "copy_right": 0,
                            "show": true,
                            "rank": 60
                        },
                        {
                            "id": 246,
                            "parent": 223,
                            "name": "改装玩车",
                            "desc": "汽车文化、玩车改装为代表的相关内容。包括但不限于痛车、汽车模型、改装车、自制车、老车修复、汽车文化知识、汽车历史、汽车聚会以及汽车创意玩法等衍生相关视频",
                            "copy_right": 0,
                            "show": true,
                            "rank": 56
                        },
                        {
                            "id": 247,
                            "parent": 223,
                            "name": "新能源车",
                            "desc": "新能源汽车相关内容，包括电动汽车、混合动力汽车等车型种类，包含不限于新车资讯、试驾体验、专业评测、技术解读、知识科普等内容",
                            "copy_right": 0,
                            "show": true,
                            "rank": 55
                        },
                        {
                            "id": 248,
                            "parent": 223,
                            "name": "房车",
                            "desc": "房车及营地相关内容，包括不限于产品介绍、驾驶体验、房车生活和房车旅行等内容",
                            "copy_right": 0,
                            "show": true,
                            "rank": 30
                        },
                        {
                            "id": 240,
                            "parent": 223,
                            "name": "摩托车",
                            "desc": "与摩托车相关的视频，包括但不限于摩托车骑行、试驾、装备测评、教学、赛事、剪辑等相关内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 25
                        },
                        {
                            "id": 227,
                            "parent": 223,
                            "name": "购车攻略",
                            "desc": "新车、二手车测评试驾，购车推荐，交易避坑攻略等",
                            "intro_copy": "",
                            "notice": "丰富详实的购车建议和新车体验",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 176,
                            "parent": 223,
                            "name": "汽车生活",
                            "desc": "和汽车等交通工具相关的一切泛化内容的视频",
                            "intro_copy": "",
                            "notice": "分享汽车及出行相关的生活体验类视频",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 234,
                    "parent": 0,
                    "parent_name": "",
                    "name": "运动",
                    "description": "运动",
                    "desc": "运动",
                    "copy_right": 0,
                    "show": true,
                    "rank": 51,
                    "children": [
                        {
                            "id": 235,
                            "parent": 234,
                            "name": "篮球",
                            "desc": "与篮球相关的视频，包括但不限于篮球赛事、教学、评述、剪辑、剧情等相关内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 60
                        },
                        {
                            "id": 249,
                            "parent": 234,
                            "name": "足球",
                            "desc": "与足球相关的视频，包括但不限于足球赛事、教学、评述、剪辑、剧情等相关内容",
                            "copy_right": 0,
                            "show": true,
                            "rank": 55
                        },
                        {
                            "id": 164,
                            "parent": 234,
                            "name": "健身",
                            "desc": "与健身相关的视频，包括但不限于健身、健美、操舞、瑜伽、普拉提、跑步、街健、健康餐、健身小剧场等内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 50
                        },
                        {
                            "id": 236,
                            "parent": 234,
                            "name": "竞技体育",
                            "desc": "与竞技体育相关的视频，包括但不限于乒乓、羽毛球、排球、赛车等竞技项目的赛事、评述、剪辑、剧情等相关内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 40
                        },
                        {
                            "id": 237,
                            "parent": 234,
                            "name": "运动文化",
                            "desc": "与运动文化相关的视频，包括但不限于球鞋、球衣、球星卡等运动衍生品的分享、解读，体育产业的分析、科普等相关内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 30
                        },
                        {
                            "id": 238,
                            "parent": 234,
                            "name": "运动综合",
                            "desc": "与运动综合相关的视频，包括但不限于钓鱼、骑行、滑板等日常运动分享、教学、Vlog等相关内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 20
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 188,
                    "parent": 0,
                    "parent_name": "",
                    "name": "科技",
                    "description": "科技",
                    "desc": "科技",
                    "copy_right": 0,
                    "show": true,
                    "rank": 50,
                    "children": [
                        {
                            "id": 95,
                            "parent": 188,
                            "name": "数码",
                            "desc": "手机/电脑/相机/影音智能设备等",
                            "intro_copy": "转载稿件需标明出处，请注明原作者、原作者频道名或原作者投稿地址。\n可对相关内容进行补充说明。\n请勿加入涉政或具较大争议性的文字简介，否则将做打回处理。\n如是系列，也可附带上期视频地址。",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 25
                        },
                        {
                            "id": 230,
                            "parent": 188,
                            "name": "软件应用",
                            "desc": "围绕各类系统软件、应用软件、网站的相关视频",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 20
                        },
                        {
                            "id": 231,
                            "parent": 188,
                            "name": "计算机技术",
                            "desc": "软硬件开发/人工智能/大数据/深度学习/IT运维等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 15
                        },
                        {
                            "id": 232,
                            "parent": 188,
                            "name": "科工机械",
                            "desc": "航空航天/工程建设/电子工程/机械制造/海洋工程等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 233,
                            "parent": 188,
                            "name": "极客DIY",
                            "desc": "硬核制作/发明创造/技术创新/极客文化等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 217,
                    "parent": 0,
                    "parent_name": "",
                    "name": "动物圈",
                    "description": "动物圈",
                    "desc": "动物圈",
                    "copy_right": 0,
                    "show": true,
                    "rank": 50,
                    "children": [
                        {
                            "id": 218,
                            "parent": 217,
                            "name": "喵星人",
                            "desc": "与猫相关的视频，包括但不限于猫咪日常、猫咪喂养、猫咪知识、猫咪剧场、猫咪救助、猫咪娱乐相关的内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 60
                        },
                        {
                            "id": 219,
                            "parent": 217,
                            "name": "汪星人",
                            "desc": "与狗相关的视频，包括但不限于狗狗日常、狗狗喂养、狗狗知识、狗狗剧场、狗狗救助、狗狗娱乐相关的内容",
                            "intro_copy": "",
                            "notice": "晰明了表明内容亮点的标题会更受观众欢迎哟！\u0007",
                            "copy_right": 0,
                            "show": true,
                            "rank": 55
                        },
                        {
                            "id": 222,
                            "parent": 217,
                            "name": "小宠异宠",
                            "desc": "非猫、狗的宠物。包括但不限于水族、爬宠、鸟类、鼠、兔等内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 54
                        },
                        {
                            "id": 221,
                            "parent": 217,
                            "name": "野生动物",
                            "desc": "与野生动物相关的视频，包括但不限于狮子、老虎、狼、大熊猫等动物内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 51
                        },
                        {
                            "id": 220,
                            "parent": 217,
                            "name": "动物二创",
                            "desc": "以动物素材为主的包括但不限于配音、剪辑、解说、reaction的再创作内容",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 30
                        },
                        {
                            "id": 75,
                            "parent": 217,
                            "name": "动物综合",
                            "desc": "收录除上述子分区外，其余动物相关视频以及非动物主体或多个动物主体的动物相关延伸内容。如动物资讯、动物趣闻、动物知识等",
                            "intro_copy": "",
                            "notice": "清晰明了表明内容亮点的标题会更受观众欢迎哟！",
                            "copy_right": 0,
                            "show": true,
                            "rank": 20
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 129,
                    "parent": 0,
                    "parent_name": "",
                    "name": "舞蹈",
                    "description": "舞蹈",
                    "desc": "舞蹈",
                    "copy_right": 0,
                    "show": true,
                    "rank": 48,
                    "children": [
                        {
                            "id": 20,
                            "parent": 129,
                            "name": "宅舞",
                            "desc": "与ACG相关的翻跳、原创舞蹈",
                            "intro_copy": "请注明转载作品的详细转载地址、作者、音源等信息，未添加正确信息的稿件可能被打回",
                            "notice": "【舞者】曲名 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 25,
                            "max_video_count": 100
                        },
                        {
                            "id": 154,
                            "parent": 129,
                            "name": "舞蹈综合",
                            "desc": "收录无法定义到其他舞蹈子分区的舞蹈视频",
                            "intro_copy": "请注明转载作品的详细转载地址、作者、BGM等信息，未添加正确信息的稿件可能被打回",
                            "notice": "【舞者/舞蹈工作室】曲名 或者【赛事】曲名 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 20
                        },
                        {
                            "id": 156,
                            "parent": 129,
                            "name": "舞蹈教程",
                            "desc": "动作分解，基础教程等具有教学意义的舞蹈视频",
                            "intro_copy": "请注明转载作品的详细转载地址、作者、舞种等信息，在标签中注明舞种等信息，未添加正确信息的稿件可能被打回",
                            "notice": "【舞者/工作室】曲名/舞种＋教学类别(如动作分解、基础教程) 的类似格式填写标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 15,
                            "max_video_count": 100
                        },
                        {
                            "id": 198,
                            "parent": 129,
                            "name": "街舞",
                            "desc": "收录街舞相关内容，包括赛事现场、舞室作品、个人翻跳、FREESTYLE等",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 199,
                            "parent": 129,
                            "name": "明星舞蹈",
                            "desc": "国内外明星发布的官方舞蹈及其翻跳内容",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 200,
                            "parent": 129,
                            "name": "中国舞",
                            "desc": "传承中国艺术文化的舞蹈内容，包括古典舞、民族民间舞、汉唐舞、古风舞等",
                            "copy_right": 0,
                            "show": true,
                            "rank": 1
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 167,
                    "parent": 0,
                    "parent_name": "",
                    "name": "国创",
                    "description": "国创",
                    "desc": "国创",
                    "copy_right": 0,
                    "show": true,
                    "rank": 45,
                    "children": [
                        {
                            "id": 153,
                            "parent": 167,
                            "name": "国产动画",
                            "desc": "国产连载动画，国产完结动画",
                            "intro_copy": "转载稿件请标明转载出处，包括源地址,原作者,原标题。",
                            "notice": "剧集名称+集数+分集标题；【合集】+剧集名称",
                            "copy_right": 0,
                            "show": true,
                            "rank": 20
                        },
                        {
                            "id": 168,
                            "parent": 167,
                            "name": "国产原创相关",
                            "desc": "以国产动画、漫画、小说为素材的二次创作",
                            "intro_copy": "转载稿件请标明转载出处，包括源地址,原作者,原标题。",
                            "notice": "【广播剧、动态漫画】+总标题+集数+分集标题；【类型（MAD、杂谈等）】+标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 15
                        },
                        {
                            "id": 169,
                            "parent": 167,
                            "name": "布袋戏",
                            "desc": "布袋戏以及相关剪辑节目",
                            "intro_copy": "转载稿件请标明转载出处，包括源地址,原作者,原标题。",
                            "notice": "【合集】+剧集名称；【霹雳布袋戏、金光布袋戏等】+标题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10,
                            "max_video_count": 100
                        },
                        {
                            "id": 170,
                            "parent": 167,
                            "name": "资讯",
                            "desc": "原创国产动画、漫画的相关资讯、宣传节目等",
                            "intro_copy": "转载稿件请标明转载出处，包括源地址,原作者,原标题。",
                            "notice": "【类型（PV/OP/访谈等）】+标题；剧集名称+集数+预告",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 195,
                            "parent": 167,
                            "name": "动态漫·广播剧",
                            "desc": "国产动态漫画、有声漫画、广播剧",
                            "intro_copy": "",
                            "notice": "国产动态漫画、有声漫画、广播剧",
                            "copy_right": 0,
                            "show": true,
                            "rank": 0
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 119,
                    "parent": 0,
                    "parent_name": "",
                    "name": "鬼畜",
                    "description": "鬼畜",
                    "desc": "鬼畜",
                    "copy_right": 0,
                    "show": true,
                    "rank": 40,
                    "children": [
                        {
                            "id": 22,
                            "parent": 119,
                            "name": "鬼畜调教",
                            "desc": "使用素材在音频、画面上做一定处理，达到与BGM具有一定同步感的视频",
                            "intro_copy": "请正确的填写作品中使用的素材以及BGM（背景音乐），有助于视频在分区以及搜索中获得更好的展示。\n搬运（转载）作品请注明出处以及sm番号或者ytb短链，否则无法通过审核哦~",
                            "notice": "【素材名】曲名/内容主题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 15
                        },
                        {
                            "id": 26,
                            "parent": 119,
                            "name": "音MAD",
                            "desc": "使用素材音频进行一定的二次创作来达到还原原曲的非商业性质稿件",
                            "intro_copy": "请正确的填写作品中使用的素材以及BGM（背景音乐），有助于视频在分区以及搜索中获得更好的展示。\n搬运（转载）作品请注明出处以及sm番号或者ytb短链，否则无法通过审核哦~",
                            "notice": "【素材名】曲名/内容主题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 126,
                            "parent": 119,
                            "name": "人力VOCALOID",
                            "desc": "将人物或者角色的无伴奏素材进行人工调音，使其就像VOCALOID一样歌唱的技术",
                            "intro_copy": "请正确的填写作品中使用的素材以及BGM（背景音乐），有助于视频在分区以及搜索中获得更好的展示。\n搬运（转载）作品请注明出处以及sm番号或者ytb短链，否则无法通过审核哦~",
                            "notice": "【素材名】曲名/内容主题",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 216,
                            "parent": 119,
                            "name": "鬼畜剧场",
                            "desc": "使用素材进行人工剪辑编排的有剧情的视频",
                            "copy_right": 0,
                            "show": true,
                            "rank": 4
                        },
                        {
                            "id": 127,
                            "parent": 119,
                            "name": "教程演示",
                            "desc": "鬼畜相关的科普和教程演示",
                            "intro_copy": "非鬼畜相关的教程演示请投稿至科技-野生技术协会。",
                            "copy_right": 0,
                            "show": true,
                            "rank": 0
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 177,
                    "parent": 0,
                    "parent_name": "",
                    "name": "纪录片",
                    "description": "非电影性质的完整纪录片",
                    "desc": "非电影性质的完整纪录片",
                    "copy_right": 0,
                    "show": true,
                    "rank": 30,
                    "children": [
                        {
                            "id": 37,
                            "parent": 177,
                            "name": "人文·历史",
                            "desc": "除宣传片、影视剪辑外的，人文艺术历史纪录剧集或电影、预告、花絮、二创、5分钟以上纪录短片",
                            "intro_copy": "请注明制作片方（如国家地理、历史频道），并对视频内容进行简要叙述。可对相关知识进行补充说明。",
                            "notice": "建议使用【频道名】节目名称-系列【生肉/字幕】【字幕组或其他信息】的类似格式填写标题",
                            "copy_right": 2,
                            "show": true,
                            "rank": 15
                        },
                        {
                            "id": 178,
                            "parent": 177,
                            "name": "科学·探索·自然",
                            "desc": "除演讲、网课、教程外的，科学探索自然纪录剧集或电影、预告、花絮、二创、5分钟以上纪录短片",
                            "copy_right": 0,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 179,
                            "parent": 177,
                            "name": "军事",
                            "desc": "除时政军事新闻外的，军事纪录剧集或电影、预告、花絮、二创、5分钟以上纪录短片",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 180,
                            "parent": 177,
                            "name": "社会·美食·旅行",
                            "desc": "除VLOG、风光摄影外的，社会美食旅行纪录剧集或电影、预告、花絮、二创、5分钟以上纪录短片",
                            "copy_right": 0,
                            "show": true,
                            "rank": 0
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 13,
                    "parent": 0,
                    "parent_name": "",
                    "name": "番剧",
                    "description": "番剧",
                    "desc": "番剧",
                    "copy_right": 0,
                    "show": true,
                    "rank": 25,
                    "children": [
                        {
                            "id": 51,
                            "parent": 13,
                            "name": "资讯",
                            "desc": "以动画/轻小说/漫画/杂志为主的资讯内容，PV/CM/特报/冒头/映像/预告",
                            "intro_copy": "【标题规范】\n*来源：轻小说，小说，漫画，杂志，长篇，，原创动画，TV动画（开播月份已知时可省略），剧场版，OVA，Blu-ray\n国家（非日本动画时填写）：美漫（美番），韩漫等；\n*开播年份：（为当年时开播可省略）；\n*开播月份：1-12月（开播月份未知时可省略）；\n*类别：PV，CM，TVCM，预告（预告前加集数），冒头，映像；\n清晰度：720P，1080P。\n注：*为必填项。",
                            "notice": "【X月/TV动画/剧场版】番剧名称 PV/CM0",
                            "copy_right": 2,
                            "show": true,
                            "rank": 10
                        },
                        {
                            "id": 152,
                            "parent": 13,
                            "name": "官方延伸",
                            "desc": "以动画番剧及声优为主的EVENT/生放送/DRAMA/RADIO/LIVE/特典/冒头等",
                            "intro_copy": "",
                            "notice": " ",
                            "copy_right": 0,
                            "show": true,
                            "rank": 5
                        },
                        {
                            "id": 32,
                            "parent": 13,
                            "name": "完结动画",
                            "desc": "已完结TV/WEB动画及其独立系列，旧剧场版/OVA/SP/未放送",
                            "intro_copy": "【标题规范】\n*清晰度：360P，480P，720P，1080P（视频源分辨率高度）；\n来源：TVRip，DVDRip，BDRip；\n*内容属性：合集（对应TV版本内容），剧场版，OVA，特典，SP；\n*字幕组名称：当前稿件视频源出品字幕组名称，如为无字幕视频源，则填写“生肉”；如为自制字幕，则填写“中文字幕”或“中字”。\n注：*为必填项。",
                            "notice": "【720P/BD】番剧名称 分季【XX字幕】",
                            "copy_right": 2,
                            "show": true,
                            "rank": 0
                        },
                        {
                            "id": 33,
                            "parent": 13,
                            "name": "连载动画",
                            "desc": "连载中TV/WEB动画，新剧场版/OVA/SP/未放送/小剧场",
                            "intro_copy": "【标题规范】\n*开播月份：1-12月；\n*所属国别（非日本动画时填写）：美漫（美番），韩漫等；\n*当前集数：当前稿件所更新的集数，如有多集，用“-”连接，如：01-05；\n*字幕组名称：当前稿件视频源出品字幕组名称，如为无字幕视频源，则填写“生肉”。\n清晰度：360P，480P，720P，1080P。\n注：*为必填项。",
                            "notice": "【X月/OVA/剧场版】番剧名称【XX字幕】",
                            "copy_right": 2,
                            "show": true,
                            "rank": 0
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 11,
                    "parent": 0,
                    "parent_name": "",
                    "name": "电视剧",
                    "description": "电视剧",
                    "desc": "电视剧",
                    "copy_right": 0,
                    "show": true,
                    "rank": 20,
                    "children": [
                        {
                            "id": 185,
                            "parent": 11,
                            "name": "国产剧",
                            "desc": "",
                            "intro_copy": "请投正片！请投正片！请投正片！【预告·花絮·剪辑·CUT·二创·短片·特摄等相关内容请投至“影视”分区】谢谢！",
                            "notice": "请使用【类型】电视剧名称 年份【其他信息】的类型格式填写标题。",
                            "copy_right": 0,
                            "show": true,
                            "rank": 0
                        },
                        {
                            "id": 187,
                            "parent": 11,
                            "name": "海外剧",
                            "desc": "",
                            "intro_copy": "请投正片！请投正片！请投正片！【预告·花絮·剪辑·CUT·二创·短片·特摄等相关内容请投至“影视”分区】谢谢！",
                            "notice": "请使用【类型】电视剧名称 年份【其他信息】的类型格式填写标题。",
                            "copy_right": 0,
                            "show": true,
                            "rank": 0
                        }
                    ],
                    "max_video_count": 50
                },
                {
                    "id": 23,
                    "parent": 0,
                    "parent_name": "",
                    "name": "电影",
                    "description": "电影",
                    "desc": "电影",
                    "copy_right": 0,
                    "show": true,
                    "rank": 15,
                    "children": [
                        {
                            "id": 83,
                            "parent": 23,
                            "name": "其他国家",
                            "desc": "",
                            "intro_copy": "请投正片！请投正片！请投正片！非正片请投至“影视”分区！谢谢！",
                            "notice": "请使用【类型】电影名称 年份 【其他信息】 的类似格式填写标题。【合集投稿将不予审核通过】",
                            "copy_right": 2,
                            "show": true,
                            "rank": 0
                        },
                        {
                            "id": 145,
                            "parent": 23,
                            "name": "欧美电影",
                            "desc": "",
                            "intro_copy": "请投正片！请投正片！请投正片！非正片请投至“影视”分区！谢谢！",
                            "notice": "请使用【类型】电影名称 年份 【其他信息】 的类似格式填写标题。【合集投稿将不予审核通过】",
                            "copy_right": 2,
                            "show": true,
                            "rank": 0
                        },
                        {
                            "id": 146,
                            "parent": 23,
                            "name": "日本电影",
                            "desc": "",
                            "intro_copy": "请投正片！请投正片！请投正片！非正片请投至“影视”分区！谢谢！",
                            "notice": "请使用【类型】电影名称 年份 【其他信息】 的类似格式填写标题。【合集投稿将不予审核通过】",
                            "copy_right": 2,
                            "show": true,
                            "rank": 0
                        },
                        {
                            "id": 147,
                            "parent": 23,
                            "name": "国产电影",
                            "desc": "",
                            "intro_copy": "请投正片！请投正片！请投正片！非正片请投至“影视”分区！谢谢！",
                            "notice": "请使用【类型】电影名称 年份 【其他信息】 的类似格式填写标题。【合集投稿将不予审核通过】",
                            "copy_right": 2,
                            "show": true,
                            "rank": 0
                        }
                    ],
                    "max_video_count": 50
                }
            ],
            formLabelWidth: '160px',
            dialogFormVisible: false,
            wxDialogVisible: false,
            addRoomDialog: false,
            exportConfigDialog: false,
            editLiveMsgSettingVisible: false,
            room: {},
            addRoom: {},
            exportConfig: {},
            tableData: [],
            lines: [],
            users: []
        },
        methods: {
            handleEdit: function (index, row) {
                this.room = row;
                this.dialogFormVisible = true;
            },
            handleEeditLiveMsg: function (index, row) {
                this.room = row;
                this.editLiveMsgSettingVisible = true;
            },
            updateRoom: function () {
                let _this = this;
                $.ajax({
                    url: '/room/update',
                    contentType: 'application/json;charset=utf-8',
                    type: 'post',
                    data: JSON.stringify(_this.room),
                    dataType: 'json',
                    success: function (data) {
                        _this.dialogFormVisible = false;
                        _this.initTable();
                    }
                });
            },
            addRoomF: function () {
                let _this = this;
                $.ajax({
                    url: '/room/add',
                    contentType: 'application/json;charset=utf-8',
                    type: 'post',
                    data: JSON.stringify(_this.addRoom),
                    dataType: 'json',
                    success: function (data) {
                        _this.$message({
                            message: data.msg,
                            type: data.type
                        });
                        _this.addRoomDialog = false;
                        _this.initTable();
                    }
                });
            },
            exportConfigF: function () {
                let _this = this;
                $.ajax({
                    url: '/room/exportConfig',
                    contentType: 'application/json;charset=utf-8',
                    type: 'post',
                    data: JSON.stringify(_this.exportConfig),
                    dataType: 'json',
                    success: function (data) {
                        // get the current date and time
                        var now = new Date();

                        // format the date and time using Intl.DateTimeFormat API
                        var dateString = new Intl.DateTimeFormat('zh-CN', { year: 'numeric', month: '2-digit', day: '2-digit' }).format(now);
                        var timeString = new Intl.DateTimeFormat('zh-CN', { hour: 'numeric', minute: 'numeric' }).format(now);

                        // construct the file name using the formatted date and time
                        var fileName = 'biliupForJavaConfig_' + dateString.replace(/\//g, '年') + timeString.replace(':', '点') + '分.json';

                        var blob = new Blob([JSON.stringify(data)], { type: 'application/json' });

                        // create a hidden link
                        var link = document.createElement('a');
                        link.href = window.URL.createObjectURL(blob);
                        link.download = fileName;
                        link.click();
                        window.URL.revokeObjectURL(link.href);
                        _this.exportConfigDialog = false;
                    }
                });
            },
            editLiveMsgSetting: function () {
                let _this = this;
                $.ajax({
                    url: '/room/editLiveMsgSetting',
                    contentType: 'application/json;charset=utf-8',
                    type: 'post',
                    data: JSON.stringify(_this.room),
                    dataType: 'json',
                    success: function (data) {
                        _this.$message({
                            message: data.msg,
                            type: data.type
                        });
                        _this.editLiveMsgSettingVisible = false;
                        _this.initTable();
                    }
                });
            },
            deleteRoom: function (roomId) {
                let _this = this;
                $.ajax({
                    url: '/room/delete/' + roomId,
                    contentType: 'application/json;charset=utf-8',
                    type: 'get',
                    dataType: 'json',
                    success: function (data) {
                        _this.$message({
                            message: data.msg,
                            type: data.type
                        });
                        _this.initTable();
                    }
                });
            },
            typeChange(change) {
                let node = this.$refs.typeCascade.getCheckedNodes(true)[0].data;
                if (node.copy_right === 0) {
                    this.room.copyrightDisabled = false;
                }
                if (node.copy_right === 2) {
                    this.room.copyrightDisabled = true;
                    this.room.copyright = 2;
                }
            },
            coverTypeChange(change) {
                if (change === 'default') {
                    this.room.coverUrl = '';
                }
                if (change === 'live') {
                    this.room.coverUrl = 'live';
                }
            },
            handleCoverSuccess(data, file) {
                this.$message({
                    message: data.msg,
                    type: data.type
                });
                this.room.coverUrl = data.coverUrl;
            },
            beforeCoverUpload(file) {
                const isLt2M = file.size / 1024 / 1024 < 2;
                const isImg = file.type === 'image/jpeg' || file.type === 'image/png';
                if (!isImg) {
                    this.$message.error('上传图片只能是 JPG/PNG 格式!');
                }

                if (!isLt2M) {
                    this.$message.error('上传图片大小不能超过 2MB!');
                }
                return isImg && isLt2M;
            },
            uploadSuccess: function () {
                this.$message({
                    message: '导入成功',
                    type: 'success'
                });
                this.initTable();
            },
            initTable: function () {
                let _this = this;
                _this.loading = true;
                $.ajax({
                    url: '/room',
                    type: 'post',
                    dataType: 'json',
                    success: function (data) {
                        data.forEach(room => {
                            if (room.coverUrl === 'live') {
                                room.coverType = 'live';
                            } else if (typeof (room.coverUrl) == 'string' && room.coverUrl.startsWith("http")) {
                                room.coverType = 'diy';
                            } else {
                                room.coverType = 'default';
                            }
                        })
                        _this.tableData = data;
                        _this.loading = false;
                    },
                    error: function () {
                        _this.loading = false;
                    }
                });
            }
        },
        created: function created() {
            let _this = this;
            $.ajax({
                url: '/biliUser/list',
                type: 'get',
                dataType: 'json',
                success: function (data) {
                    _this.users = data;
                }
            });
            $.ajax({
                url: '/room/lines',
                type: 'get',
                dataType: 'json',
                success: function (data) {
                    _this.lines = data;
                }
            });
            this.initTable();
        }
    });
</script>
<style>
    .demo-table-expand {
        font-size: 0;
    }

    .demo-table-expand label {
        width: 150px;
        color: #99a9bf;
    }

    .demo-table-expand .el-form-item {
        margin-right: 0;
        margin-bottom: 0;
        width: 50%;
    }
</style>
<style>
    .avatar-uploader .el-upload {
        border: 1px dashed #d9d9d9;
        border-radius: 6px;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .avatar-uploader .el-upload:hover {
        border-color: #409EFF;
    }

    .avatar-uploader-icon {
        font-size: 28px;
        color: #8c939d;
        width: 178px;
        height: 178px;
        line-height: 178px;
        text-align: center;
    }

    .avatar {
        width: 178px;
        height: 178px;
        display: block;
    }
</style>